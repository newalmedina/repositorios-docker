; ;memory_limit = 800M
; memory_limit = 8G
; post_max_size = 8G
; upload_max_filesize = 8G
; ;zend_extension = /usr/local/lib/php/extensions/no-debug-non-zts-20170718/xdebug.so
; date.timezone = "Europe/Madrid"

; ========================
; PHP Settings - Laravel + Livewire Production Optimized
; Para contenedor con ~2GB RAM
; ========================

; --- Timezone ---
date.timezone = "Europe/Madrid"

; --- Memory Limits ---
memory_limit = 512M          ; máximo por proceso PHP, evita saturar 2GB contenedor
post_max_size = 50M          ; máximo tamaño total de POST
upload_max_filesize = 50M    ; máximo tamaño de archivos subidos

; --- Errors & Logging ---
display_errors = Off
log_errors = On
error_log = /var/log/php_errors.log
; Opcional: nivel de errores en producción
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT & ~E_NOTICE

; --- OPcache Settings ---
opcache.enable=1
opcache.enable_cli=1
opcache.memory_consumption=128
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=12000
opcache.validate_timestamps=0
opcache.revalidate_freq=0
opcache.fast_shutdown=1
opcache.enable_file_override=1
opcache.save_comments=1
opcache.revalidate_path=0
opcache.log_verbosity_level=1

; --- Opciones de rendimiento ---
realpath_cache_size=4096K
realpath_cache_ttl=600

; --- Opciones de sesión ---
session.gc_maxlifetime=1440
session.save_path="/var/lib/php/sessions"

; --- Opciones de seguridad ---
expose_php = Off
cgi.fix_pathinfo = 0

; --- Opcional para CLI (Artisan, Jobs) ---
max_execution_time = 300
max_input_time = 300

; --- Opcional Xdebug deshabilitado en producción ---
; zend_extension = /usr/local/lib/php/extensions/no-debug-non-zts-20170718/xdebug.so

